{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\stripe-sample-code\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nconst ProductDisplay = ({\n  handleCheckout\n}) => /*#__PURE__*/React.createElement(\"section\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"product\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(Logo, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"description\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 9\n  }\n}, \"Starter plan\"), /*#__PURE__*/React.createElement(\"h5\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 9\n  }\n}, \"$20.00 / month\"))), /*#__PURE__*/React.createElement(\"button\", {\n  onClick: handleCheckout,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 5\n  }\n}, \"Checkout\"));\nconst SuccessDisplay = ({\n  sessionId,\n  handleManageBilling\n}) => /*#__PURE__*/React.createElement(\"section\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"product Box-root\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }\n}, /*#__PURE__*/React.createElement(Logo, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 7\n  }\n}), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"description Box-root\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 7\n  }\n}, /*#__PURE__*/React.createElement(\"h3\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }\n}, \"Subscription to starter plan successful!\"))), /*#__PURE__*/React.createElement(\"button\", {\n  onClick: () => handleManageBilling(sessionId),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }\n}, \"Manage your billing information\"));\nconst Message = ({\n  message\n}) => /*#__PURE__*/React.createElement(\"section\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }\n}, message));\nexport default function App() {\n  let [message, setMessage] = useState('');\n  let [success, setSuccess] = useState(false);\n  let [sessionId, setSessionId] = useState('');\n  useEffect(() => {\n    const url = new URL(window.location.origin + window.location.pathname);\n    const params = new URLSearchParams(new URL(url).search);\n    const sessionId = params.get('session_id');\n    if (query.get('success')) {\n      setSuccess(true);\n      setSessionId(query.get('session_id'));\n    }\n    if (query.get('canceled')) {\n      setSuccess(false);\n      setMessage(\"Order canceled -- continue to shop around and checkout when you're ready.\");\n    }\n  }, [sessionId]);\n  const handleCheckout = async () => {\n    console.log(\"hello\");\n    try {\n      const formData = new FormData();\n      formData.append('lookup_key', '1234'); // Replace with actual lookup key\n\n      const response = await fetch('http://localhost:8000/create-checkout-session', {\n        method: 'POST',\n        body: formData\n      });\n      console.log(\"hello\", response);\n      const data = await response.json();\n      console.log(data);\n      window.location.href = data.sessionId.url;\n    } catch (error) {\n      console.error('Error creating checkout session:', error);\n      setMessage('Error creating checkout session. Please try again later.');\n    }\n  };\n  const handleManageBilling = async sessionId => {\n    try {\n      const formData = new FormData();\n      formData.append('session_id', sessionId);\n      const response = await fetch('http://localhost:8000/create-portal-session', {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      window.location.href = data.url;\n    } catch (error) {\n      console.error('Error creating portal session:', error);\n      setMessage('Error creating portal session. Please try again later.');\n    }\n  };\n  if (!success && message === '') {\n    return /*#__PURE__*/React.createElement(ProductDisplay, {\n      handleCheckout: handleCheckout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 12\n      }\n    });\n  } else if (success && sessionId !== '') {\n    return /*#__PURE__*/React.createElement(SuccessDisplay, {\n      sessionId: sessionId,\n      handleManageBilling: handleManageBilling,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 12\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(Message, {\n      message: message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 12\n      }\n    });\n  }\n}\nconst Logo = () => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n  width: \"14px\",\n  height: \"16px\",\n  viewBox: \"0 0 14 16\",\n  version: \"1.1\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 3\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","ProductDisplay","handleCheckout","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","Logo","onClick","SuccessDisplay","sessionId","handleManageBilling","Message","message","App","setMessage","success","setSuccess","setSessionId","url","URL","window","location","origin","pathname","params","URLSearchParams","search","get","query","console","log","formData","FormData","append","response","fetch","method","body","data","json","href","error","xmlns","xmlnsXlink","width","height","viewBox","version"],"sources":["C:/Users/hp/Desktop/stripe-sample-code/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nconst ProductDisplay = ({ handleCheckout }) => (\n  <section>\n    <div className=\"product\">\n      <Logo />\n      <div className=\"description\">\n        <h3>Starter plan</h3>\n        <h5>$20.00 / month</h5>\n      </div>\n    </div>\n    <button onClick={handleCheckout}>\n      Checkout\n    </button>\n  </section>\n);\n\nconst SuccessDisplay = ({ sessionId, handleManageBilling }) => (\n  <section>\n    <div className=\"product Box-root\">\n      <Logo />\n      <div className=\"description Box-root\">\n        <h3>Subscription to starter plan successful!</h3>\n      </div>\n    </div>\n    <button onClick={() => handleManageBilling(sessionId)}>\n      Manage your billing information\n    </button>\n  </section>\n);\n\nconst Message = ({ message }) => (\n  <section>\n    <p>{message}</p>\n  </section>\n);\n\nexport default function App() {\n  let [message, setMessage] = useState('');\n  let [success, setSuccess] = useState(false);\n  let [sessionId, setSessionId] = useState('');\n\n  useEffect(() => {\n \n    const url = new URL(window.location.origin+window.location.pathname);\n    const params = new URLSearchParams(new URL(url).search);\n     const sessionId = params.get('session_id');\n    \n\n    if (query.get('success')) {\n      setSuccess(true);\n      setSessionId(query.get('session_id'));\n    }\n\n    if (query.get('canceled')) {\n      setSuccess(false);\n      setMessage(\n        \"Order canceled -- continue to shop around and checkout when you're ready.\"\n      );\n    }\n  }, [sessionId]);\n\n  const handleCheckout = async () => {\n    console.log(\"hello\")\n    try {\n      const formData = new FormData();\n      formData.append('lookup_key', '1234'); // Replace with actual lookup key\n  \n      const response = await fetch('http://localhost:8000/create-checkout-session', {\n        method: 'POST',\n        body: formData\n      });\n\n      console.log(\"hello\",response)\n      \n  \n      const data = await response.json();\n      \n      console.log(data)\n      window.location.href = data.sessionId.url;\n    } catch (error) {\n      console.error('Error creating checkout session:', error);\n      setMessage('Error creating checkout session. Please try again later.');\n    }\n  };\n  \n\n  const handleManageBilling = async (sessionId) => {\n    try {\n      const formData = new FormData();\n      formData.append('session_id', sessionId);\n      const response = await fetch('http://localhost:8000/create-portal-session', {\n        method: 'POST',\n        body: formData\n      });\n      const data = await response.json();\n      window.location.href = data.url;\n    } catch (error) {\n      console.error('Error creating portal session:', error);\n      setMessage('Error creating portal session. Please try again later.');\n    }\n  };\n\n  if (!success && message === '') {\n    return <ProductDisplay handleCheckout={handleCheckout} />;\n  } else if (success && sessionId !== '') {\n    return <SuccessDisplay sessionId={sessionId} handleManageBilling={handleManageBilling} />;\n  } else {\n    return <Message message={message} />;\n  }\n}\n\nconst Logo = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    width=\"14px\"\n    height=\"16px\"\n    viewBox=\"0 0 14 16\"\n    version=\"1.1\"\n  >\n    {/* SVG content */}\n  </svg>\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}